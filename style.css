:root {
    /* Dark Mode (Default) */
    --bg-color: #0f172a;
    --text-color: #f8fafc;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;
    --accent-color: #38bdf8;
    --glass-bg: rgba(30, 41, 59, 0.7);
    --glass-border: rgba(148, 163, 184, 0.1);
    --card-hover: rgba(51, 65, 85, 0.8);
    --sidebar-bg: #0f172a;
    --font-main: 'Pretendard', sans-serif;
    --shadow-color: rgba(0, 0, 0, 0.1);
}

[data-theme="light"] {
    /* Light Mode */
    --bg-color: #f1f5f9;
    --text-color: #1e293b;
    --text-secondary: #64748b;
    --text-muted: #94a3b8;
    --accent-color: #0ea5e9;
    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-border: rgba(203, 213, 225, 0.4);
    --card-hover: rgba(255, 255, 255, 1);
    --sidebar-bg: #ffffff;
    --shadow-color: rgba(0, 0, 0, 0.05);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: var(--bg-color);
    background-image:
        radial-gradient(at 0% 0%, rgba(56, 189, 248, 0.15) 0, transparent 50%),
        radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.15) 0, transparent 50%);
    color: var(--text-color);
    font-family: var(--font-main);
    line-height: 1.7;
    min-height: 100vh;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 24px;
}

header {
    padding: 80px 0 40px;
    text-align: center;
}

header h1 {
    font-size: 3.5rem;
    font-weight: 800;
    letter-spacing: -0.05em;
    background: linear-gradient(to right, #38bdf8, #818cf8);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 12px;
}

header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
}

.glass {
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    padding: 32px;
}

#briefing-section {
    margin-bottom: 48px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

#briefing-section h2 {
    font-size: 1.5rem;
    margin-bottom: 16px;
    color: var(--accent-color);
}

#briefing-section p {
    font-size: 1.1rem;
    color: var(--text-color);
}

.news-grid {
    display: grid;
    gap: 24px;
}

.news-card {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 28px;
    text-decoration: none;
    color: inherit;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.news-card:hover {
    transform: translateY(-8px);
    background: var(--card-hover);
    border-color: rgba(56, 189, 248, 0.3);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
}

.card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.category-tag {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(56, 189, 248, 0.1);
    color: var(--accent-color);
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 600;
}

.time-tag {
    color: #64748b;
    font-size: 0.75rem;
}

.news-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 12px;
    line-height: 1.4;
    color: #f1f5f9;
}

.news-card .summary {
    font-size: 0.95rem;
    color: var(--text-secondary);
}

.loading {
    padding: 100px 0;
    text-align: center;
    color: #64748b;
    font-size: 1.2rem;
}

.animate-fade-in {
    animation: fadeIn 1s ease-out;
}

.animate-slide-up {
    animation: slideUp 0.8s ease-out;
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(8px);
    z-index: 1000;
    display: none;
    /* Controlled by JS */
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.modal-content {
    max-width: 800px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    padding: 48px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.modal-close {
    position: absolute;
    top: 24px;
    right: 24px;
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 2rem;
    cursor: pointer;
    transition: color 0.2s;
    line-height: 1;
}

.modal-close:hover {
    color: var(--text-color);
}

.modal-img {
    width: 100%;
    height: 400px;
    object-fit: cover;
    border-radius: 16px;
    margin-bottom: 32px;
}

.modal-meta {
    margin-bottom: 16px;
}

#modal-title {
    font-size: 2.2rem;
    margin-bottom: 24px;
    line-height: 1.3;
    color: #f1f5f9;
}

.modal-text-content {
    font-size: 1.1rem;
    color: #cbd5e1;
    white-space: pre-wrap;
}

.modal-text-content p {
    margin-bottom: 20px;
}

/* Scrollbar for modal */
.modal-content::-webkit-scrollbar {
    width: 8px;
}

.modal-content::-webkit-scrollbar-track {
    background: transparent;
}

.modal-content::-webkit-scrollbar-thumb {
    background: var(--glass-border);
    border-radius: 4px;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --- Layout & Sidebar --- */
.app-layout {
    display: flex;
    min-height: 100vh;
}

.mobile-header {
    display: none;
    /* Desktop default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 16px 24px;
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(10px);
    z-index: 100;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--glass-border);
}

.mobile-logo {
    font-size: 1.5rem;
    font-weight: 800;
    background: linear-gradient(to right, #38bdf8, #818cf8);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.menu-btn {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
}

.theme-btn {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--text-color);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s;
}

.theme-btn:hover {
    background: var(--glass-border);
    transform: rotate(15deg);
}

.sidebar {
    width: 280px;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    padding: 40px 24px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    border-radius: 0;
    border-right: 1px solid var(--glass-border);
    transition: transform 0.3s ease;
    z-index: 999;
}

.sidebar-header h2 {
    font-size: 1.8rem;
    line-height: 1.2;
    margin-bottom: 40px;
    background: linear-gradient(to right, #38bdf8, #818cf8);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.nav-links {
    list-style: none;
    flex-grow: 1;
}

.nav-item {
    display: block;
    padding: 12px 16px;
    color: #94a3b8;
    text-decoration: none;
    border-radius: 12px;
    margin-bottom: 8px;
    transition: all 0.2s;
    font-weight: 500;
}

.nav-item:hover,
.nav-item.active {
    background: rgba(56, 189, 248, 0.1);
    color: var(--accent-color);
}

/* --- Sidebar Sub-menu (Archives) --- */
.sub-menu {
    list-style: none;
    padding-left: 20px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.sub-menu.open {
    max-height: 500px;
    /* Arbitrary large height */
    transition: max-height 0.5s ease-in;
}

.sub-menu li a {
    display: block;
    padding: 8px 12px;
    color: #64748b;
    text-decoration: none;
    font-size: 0.9rem;
    border-radius: 8px;
    transition: all 0.2s;
}

.sub-menu li a:hover,
.sub-menu li a.active {
    color: var(--accent-color);
    background: rgba(255, 255, 255, 0.05);
}

.toggle-icon {
    float: right;
    font-size: 0.8rem;
    transition: transform 0.3s;
}

.nav-item.active .toggle-icon,
.nav-item[aria-expanded="true"] .toggle-icon {
    transform: rotate(180deg);
}

.sidebar-footer {
    font-size: 0.8rem;
    color: #64748b;
}

.sidebar-footer a {
    color: #94a3b8;
    text-decoration: none;
    transition: color 0.2s;
}

.sidebar-footer a:hover {
    color: var(--text-color);
}

.sidebar-footer .divider {
    margin: 0 8px;
    opacity: 0.3;
}

.sidebar-footer p {
    margin-top: 12px;
    opacity: 0.5;
}

/* --- Main Content --- */
.main-content {
    flex-grow: 1;
    margin-left: 280px;
    /* Sidebar width */
    padding-bottom: 60px;
}

.desktop-header {
    margin-bottom: 40px;
    padding: 24px 0;
}

.container__header {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 24px;
    text-align: right;
    color: #64748b;
    font-size: 0.9rem;
}

/* --- Category Chips (Main Content Top) --- */
.category-filter {
    display: flex;
    gap: 12px;
    margin-bottom: 30px;
    overflow-x: auto;
    padding-bottom: 8px;
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

.category-filter::-webkit-scrollbar {
    display: none;
}

.chip {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: #94a3b8;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s;
    font-family: var(--font-main);
    font-size: 0.95rem;
}

.chip:hover,
.chip.active {
    background: var(--accent-color);
    color: #fff;
    border-color: var(--accent-color);
}

/* --- Overlay --- */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 900;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s;
}

.overlay.active {
    opacity: 1;
    visibility: visible;
}

/* --- Mobile Responsiveness --- */
@media (max-width: 768px) {
    .mobile-header {
        display: flex;
    }

    .sidebar {
        transform: translateX(-100%);
        background: var(--sidebar-bg);
        box-shadow: 10px 0 30px rgba(0, 0, 0, 0.5);
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
        padding-top: 80px;
        /* Space for mobile header */
    }

    .desktop-header {
        display: none;
    }

    .category-filter {
        padding: 0 4px;
    }
}

/* --- Ticker Styles --- */
.ticker-wrap {
    width: 100%;
    overflow: hidden;
    background: rgba(15, 23, 42, 0.95);
    border-bottom: 1px solid var(--glass-border);
    padding: 10px 0;
    position: fixed;
    /* Fixed at top, below mobile header or at very top */
    top: 60px;
    /* Below mobile header height approx */
    z-index: 99;
}

/* Adjust top for desktop */
@media (min-width: 769px) {
    .ticker-wrap {
        top: 0;
        padding-left: 280px;
        /* Sidebar offset */
    }
}

.ticker {
    display: inline-block;
    white-space: nowrap;
    animation: ticker 30s linear infinite;
    padding-left: 100%;
    /* Start off-screen */
}

.ticker-item {
    display: inline-block;
    padding: 0 24px;
    font-size: 0.95rem;
    color: var(--text-secondary);
}

.ticker-value {
    color: var(--text-color);
    font-weight: 700;
    margin-left: 4px;
}

.ticker-change.up {
    color: #f87171;
}

/* Red for up (KR style) */
.ticker-change.down {
    color: #38bdf8;
}

/* Blue for down */

@keyframes ticker {
    0% {
        transform: translate3d(0, 0, 0);
    }

    100% {
        transform: translate3d(-100%, 0, 0);
    }
}

/* --- Hero Card (First Item) --- */
@media (min-width: 769px) {
    .news-card:first-child {
        grid-column: 1 / -1;
        /* Unified Layout: We use the same stacked layout as others, but wider */
        /* display: grid; removed to allow standard block layout */
        min-height: 400px;
    }

    .news-card:first-child h3 {
        font-size: 2.2rem;
        margin-bottom: 20px;
        line-height: 1.2;
    }

    .news-card:first-child .summary {
        font-size: 1.1rem;
        -webkit-line-clamp: 6;
        /* Show more lines */
    }
}

/* --- TTS Button --- */
.tts-btn {
    background: rgba(56, 189, 248, 0.1);
    border: 1px solid var(--accent-color);
    color: var(--accent-color);
    padding: 6px 12px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s;
}

.tts-btn:hover {
    background: var(--accent-color);
    color: white;
}

.tts-playing {
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0.6;
    }

    100% {
        opacity: 1;
    }
}

/* --- New Image Styles --- */
.news-image {
    width: 100%;
    height: 100%;
    min-height: 280px;
    background-size: cover;
    background-position: center;
    border-radius: 16px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.news-card:hover .news-image {
    transform: scale(1.02);
}

.news-image-mobile {
    /* Styles for standard card images (inline styles were used but class is better if we move it) */
    /* Note: app.js currently uses inline styles for this specific element to ensure height, 
       but we can reinforce it here or rely on inline. 
       Let's leave app.js inline for now as it's explicit, but usually cleaner here. 
       But for consistency with the plan, I will just add the class if needed or empty. */
}