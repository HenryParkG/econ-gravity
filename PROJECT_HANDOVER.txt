[프로젝트 인계 문서] Econ Gravity - AI 경제 뉴스 서비스
작성일: 2026년 2월 5일

1. 프로젝트 개요
   - 프로젝트명: Econ Gravity
   - 목적: 매일 5회(09, 12, 15, 18, 21시) 자동으로 주요 경제 뉴스를 수집, 요약하여 배포하는 웹 서비스.
   - 특징: 별도 서버 없이 GitHub Actions와 GitHub Pages만으로 영구 구동되는 Serverless 아키텍처.

2. 시스템 구성 및 아키텍처
   A. 백엔드 (Python Logic)
      - 위치: scripts/fetch_news.py
      - 역할: Google News RSS 수집 -> Gemini Pro/Flash AI 요약 -> 카테고리 분류 -> JSON 저장.
      - 특징 1 (이미지): AI 생성 불안정 해결을 위해 엄선된 고화질 주식/금융 실사 이미지(30종) 라이브러리 탑재.
      - 특징 2 (DB 최적화): '분할 저장 시스템' 적용.
         - data/news.json (Active): 최신 50개 유지 (웹사이트 로딩용).
         - data/news_archive.json (Archive): 전체 역사 무제한 저장 (더 보기 기능용).

   B. 프론트엔드 (Web)
      - 구성: HTML5, CSS3 (Glassmorphism), Vanilla JS.
      - 핵심 UI:
         - 데스크탑: 좌측 고정 사이드바.
         - 모바일: 반응형 햄버거 메뉴 & 드로어.
         - 필터: 상단 칩(Chip) 버튼으로 카테고리(거시경제, 금융, 테크 등) 즉시 필터링.
         - 상세뷰: 모달(Modal) 창을 통한 뉴스 본문 보기.

   C. 인프라 (DevOps)
      - GitHub Actions: .github/workflows/daily_news.yml
      - 스케줄: 한국 시간 기준 하루 5회 자동 실행 (cron: '0 0,3,6,9,12 * * *' -> UTC 기준).
      - 캐시 버스팅: style.css?v=2 등을 통해 배포 시 즉각 디자인 반영.

3. 최근 주요 작업 내역 (완료됨)
   [x] AI 이미지 생성 제거 및 고품질 스톡 포토 시스템으로 교체 (노트북/깨짐 현상 영구 해결).
   [x] DB 이원화 구현 (Lite 버전과 Archive 버전 분리).
   [x] 프론트엔드 대규모 리팩토링 (사이드바, 약관 페이지, 카테고리 필터 추가).
   [x] Gemini API 모델 이중화 (Failover) 로직 적용 (Pro -> Flash -> 2.0 자동 전환).

4. 다른 컴퓨터에서 작업 시 주의사항
   1. 환경 설정:
      - Python 3.x 설치 필요.
      - pip install -r requirements.txt (없을 경우: `pip install requests google-genai beautifulsoup4 pytz`)
   
   2. 환경 변수:
      - 로컬에서 테스트할 경우 `GOOGLE_API_KEY` 환경 변수 설정 필요 (GitHub Secrets에 있는 값).

   3. 배포 방식:
      - 코드를 수정하고 `git push` 하면 자동으로 Actions가 돌면서 사이트가 업데이트됨.
      - 수동으로 갱신하고 싶으면 GitHub Actions 탭에서 'Run workflow' 버튼 클릭.

5. 파일 구조 설명
   / 
   ├── .github/workflows/daily_news.yml  # 자동화 스케줄 설정
   ├── data/
   │   ├── news.json                     # 최신 50개 뉴스 (프론트엔드 로딩용)
   │   └── news_archive.json             # 전체 뉴스 데이터베이스
   ├── scripts/
   │   └── fetch_news.py                 # 핵심 로직 (뉴스 수집 및 AI 요약)
   ├── index.html                        # 메인 페이지 구조
   ├── style.css                         # 디자인 스타일 시트
   ├── app.js                            # 프론트엔드 로직 (필터, 모달, 더보기 등)
   ├── privacy.html                      # 개인정보처리방침
   └── terms.html                        # 이용약관

6. 향후 유지보수 포인트
   - 이미지 리스트를 바꾸고 싶다면 `fetch_news.py` 내 `stock_images` 리스트 수정.
   - 하루 생성 횟수를 바꾸고 싶다면 `daily_news.yml`의 crontab 수정.
